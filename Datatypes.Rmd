---
title: "An Introduction to R"
subtitle: "Part 4: Other Data Types"
output:
html_document:
theme: null
highlight: null
css: css/styles.css
runtime: shiny
---



<link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Lato:400,700' rel='stylesheet' type='text/css'>

```{r echo=FALSE}

includeScript("www/solutionButton.js")

library(stringr)

printInlineConsole = function(id, input="", label="Console:", output="Output: ", solution=""){
if (solution != ""){
  tags$div(class = "header", style="width:100%",
  tags$label(label, style="font-weight:bold"),
  tags$input(id=paste("code",id,sep="-"), type="text", value=input, class="exercise_input"),
  tags$button(id=paste("btn",id,sep="-"),type="button", value=solution, class="exercise_solution_btn","Solution"),
  tags$label(output),
  verbatimTextOutput(paste("coderun", id, sep="-")))

} else {
  tags$div(class = "header", style="width:100%",
  tags$label(label, style="font-weight:bold"),
  tags$input(id=paste("code",id,sep="-"), type="text", value=input),
  tags$label(output),
  verbatimTextOutput(paste("coderun", id, sep="-")))
}
}

printInlinePlotConsole = function(id, input="", label="Console:", output="Output: ", solution=""){
if (solution != ""){
  tags$div(class = "header", style="width:100%",
  tags$label(label, style="font-weight:bold"),
  tags$input(id=paste("code",id,sep="-"), type="text", value=input, class="exercise_input"),
  # tags$button(id=paste("btn",id,sep="-"),type="button", value=solution, class="exercise_solution_btn","Solution"),
  tags$label(output),
  plotOutput(paste("codeplot", id, sep="-")))

} else {
  tags$div(class = "header", style="width:100%",
  tags$label(label, style="font-weight:bold"),
  tags$input(id=paste("code",id,sep="-"), type="text", value=input),
  tags$label(output),
  plotOutput(paste("codeplot", id, sep="-")))
}
}

printConsole = function(id, input="", label="Console:", output="Output:",plot = FALSE){
if (plot == TRUE){
tags$div(class = "header", style="width:100%; height:500px",
tags$label(label, style="font-weight:bold"),
tags$textarea(id=paste("code",id,sep="-"), type="text",rows="5", input),
tags$label(output),
plotOutput(paste("codeplot", id, sep="-")))
} else {
tags$div(class = "header", style="width:100%;",
tags$label(label, style="font-weight:bold"),
tags$textarea(id=paste("code",id,sep="-"), type="text", input),
tags$label(output),
verbatimTextOutput(paste("coderun", id, sep="-")))
}
}

printOutput = function(id){
terminalId = paste("code",id,sep="-")
output[[paste("coderun",id, sep="-")]] = renderPrint({
plotloc=str_locate(input[[terminalId]],"plot")
eval(parse(text=input[[terminalId]]))
})
output[[paste("codeplot",id, sep="-")]] = renderPlot({
plotloc=str_locate(input[[terminalId]],"plot")
eval(parse(text=input[[terminalId]]))
})
}
```

## Matrices

In the previous section, we have already worked with *vectors*, one-dimensional arrays which hold elements of the same type. Matrices are the analog in two dimenions. We can create a matrix in R with the `matrix` function. When calling this function, we have to supply the elements of the matrix as its first argument. The second and third argument, `nrow` and `ncol`, specify how many rows and columns the matrix should have, respectively. We can create a 3x3 matrix holding the elements one to nine via the command 

```{r echo=FALSE}
printInlineConsole("1", "matrix(1:9, 3, 3)","A 3x3 Matrix: ","")
printOutput("1")
```

As you can see, the elements of the matrix are filled column-wise. If the `matrix` function is instead called with the argument `byrow=TRUE`, the elements are filled row-wise. If the created matrix is larger than the provided vector of elements, the elements of the vector are recycled: 

```{r echo=FALSE}
printInlineConsole("2", "matrix(1, 3, 3)","A Matrix consisting of ones: ","")
printOutput("2")
```

Try out what happens when you instead recycle a vector, for example `c(1,2,3)`. The `dim` function can be used to retrieve the dimension of a given matrix:

```{r echo=FALSE}
printInlineConsole("3", "dim(matrix(1, 3, 3))","","")
printOutput("3")
```

As for vectors, the square brackets can be used to select part of a matrix: In this case, the indexing works via `[ , ]` as we have two dimensions. Suppose we have a matrix with the name `myMat`. To access the elem on the first row and second column, we would write `myMat[1, 2]`. Leaving one of the indices blanks retrieves all columns or rows, respectively. So `myMat[1,]` retrieves the first row, whereas `myMat[,2]` returns the second columns. Let's try this out:

```{r echo=FALSE}
printConsole("4", "myMat = matrix(1:16, nrow = 4, ncol = 4)
myMat[ , ]","","")
printOutput("4")
```

Recall that you could also use a vector of indices when selecting elements from a vector. The same holds for matrices. For example, the submatrix consisting of the first three rows and three columns can be selected via the command `myMat[1:3, 1:3]`. Alternatively, it is possible to pass a negative index or vector of indices. In this case, only the columns and rows which do *not* correspond to these indices are returned. Hence, the command `myMat[1:3, 1:3]` returns the same as `myMat[-4,-4]`. Assure yourself!

```{r echo=FALSE}
printConsole("5", "myMat = matrix(1:16, nrow = 4, ncol = 4)
myMat[ , ]","","")
printOutput("5")
printConsole("6", "myMat = matrix(1:16, nrow = 4, ncol = 4)
myMat[ , ]","","")
printOutput("6")
printConsole("7", "myMat = matrix(1:16, nrow = 4, ncol = 4)
myMat[ , ]","","")
printOutput("7")
printConsole("8", "myMat = matrix(1:16, nrow = 4, ncol = 4)
myMat[ , ]","","")
printOutput("8")
printConsole("9", "myMat = matrix(1:16, nrow = 4, ncol = 4)
myMat[ , ]","","")
printOutput("9")
```

### Matrix Operations

## Arrays

## Data Frames

## Lists
